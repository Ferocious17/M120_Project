<!doctype html>
<html lang="en">

<head>
  <title>M120 Ticket Machine</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <link rel="stylesheet" href="styles/main.css">

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"
    integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js"
    integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc"
    crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>

  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/index.css">

</head>

<body>
  <header>
    <img class="LogoCircular" src="assets/Logo_Circular.png" alt="Logo">
    <a class="LoginRef" href="../app/view/login.html">Anmelden</a>
  </header>

  <main>
    <div id="form">
      <h1>Verbindung suchen</h1>

      <form>
        <div class="row g-2 mb-3">
          <div class="form-floating col-md">
            <input type="text" class="form-control is-invalid" id="fromInput" placeholder="Von">
            <label for="fromInput">Von</label>
            <div class="invalid-feedback">
              Bitte wählen Sie einen Ort aus
            </div>
          </div>
          <div class="form-floating col-md">
            <input type="text" class="form-control" id="toInput" placeholder="Nach">
            <label for="toInput">Nach</label>
            <div class="invalid-feedback">
              Bitte wählen Sie einen Ort aus
            </div>
          </div>
        </div>

        <div class="row g-2 mb-3">
          <div class="form-floating col">
            <input type="date" class="form-control" id="dateInput">
            <label for="dateInput">Datum</label>
          </div>
          <div class="form-floating col">
            <input type="time" class="form-control" id="timeInput">
            <label for="timeInput">Uhrzeit</label>
          </div>
          <div id="buttonContainer">
            <button id="submitButton" class="btn btn-primary">Suchen</button>
          </div>
        </div>
      </form>
    </div>

    <script>

      /*const fields = document.getElementsByTagName('input');
      const button = document.querySelector('#submitButton');
      button.addEventListener("click", function () {
        for (var i = 0; i < fields.length; i++) {
          console.log(fields[i].value);
          if (fields[i].value.length == 0) {
            fields[i].toggle('is-invalid');
          }
        }
      });*/

      $(function () {
        var station = '8501120';

        $('#fromInput').autocomplete({
          source: function (request, response) {
            $.get('http://transport.opendata.ch/v1/locations', { query: request.term, type: 'station' }, function (data) {
              response($.map(data.stations, function (station) {
                //console.log(station.name);
                return {
                  label: station.name,
                  station: station
                }
              }));
            }, 'json');
          },
          select: function (event, ui) {
            station = ui.item.station.id;
          }
        });

      });

      $(function () {
        var station = '8501120';

        $('#toInput').autocomplete({
          source: function (request, response) {
            $.get('http://transport.opendata.ch/v1/locations', { query: request.term, type: 'station' }, function (data) {
              response($.map(data.stations, function (station) {
                //console.log(station.name);
                return {
                  label: station.name,
                  station: station
                }
              }));
            }, 'json');
          },
          select: function (event, ui) {
            station = ui.item.station.id;
          }
        });

      });
    </script>

  </main>';

  <footer>
    <h4>&copy; Copyright 2021 / M120 Ticket Machine</h4>
  </footer>

</body>

</html>